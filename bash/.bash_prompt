#!/bin/bash

# http://misc.flogisoft.com/bash/tip_colors_and_formatting
# https://en.wikipedia.org/wiki/ANSI_escape_code#Sequence_elements

export PROMPT_DIRTRIM=2

# 0 for normal font, 1 for bold, 4 for underline, and 5 for slow blink

# adds CSI \e to start ANSI escape sequence
# surround colors codes with \[ \]
function escape_color {
  echo "\[\e$1\]"
}

function get_color_256 {
  echo $(escape_color "[38;5;$1m")
}

BLUE=$(get_color_256 "117")
PURPLE=$(get_color_256 "141")
YELLOW=$(get_color_256 "228")
ORANGE=$(get_color_256 "220")
GREEN=$(get_color_256 "119")
RED=$(get_color_256 "202")
COLOR_NONE="\e[0m"

function get_prompt {
  local env

  # don't show host unless we're ssh'ed to something else
  if [ -n "$SSH_CLIENT" ]; then
    env="@\h"
  fi

  # just shows user and path
  echo "${GREEN}[\T] ${RED}\u${env}:${ORANGE}\w ${BLUE}\$ "
}

export PS1=$(get_prompt)